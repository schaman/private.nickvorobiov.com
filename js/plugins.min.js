!function(t,n){"function"==typeof define&&define.amd?define(["jquery"],function(e){return n(t,e)}):"object"==typeof exports?n(t,require("jquery")):n(t,t.jQuery||t.Zepto)}(this,function(t,n){"use strict";function e(t){if(b&&"none"===t.css("animation-name")&&"none"===t.css("-webkit-animation-name")&&"none"===t.css("-moz-animation-name")&&"none"===t.css("-o-animation-name")&&"none"===t.css("-ms-animation-name"))return 0;var n,e,o,i,a=t.css("animation-duration")||t.css("-webkit-animation-duration")||t.css("-moz-animation-duration")||t.css("-o-animation-duration")||t.css("-ms-animation-duration")||"0s",s=t.css("animation-delay")||t.css("-webkit-animation-delay")||t.css("-moz-animation-delay")||t.css("-o-animation-delay")||t.css("-ms-animation-delay")||"0s",r=t.css("animation-iteration-count")||t.css("-webkit-animation-iteration-count")||t.css("-moz-animation-iteration-count")||t.css("-o-animation-iteration-count")||t.css("-ms-animation-iteration-count")||"1";for(a=a.split(", "),s=s.split(", "),r=r.split(", "),i=0,e=a.length,n=Number.NEGATIVE_INFINITY;e>i;i++)o=parseFloat(a[i])*parseInt(r[i],10)+parseFloat(s[i]),o>n&&(n=o);return n}function o(){if(n(document.body).height()<=n(window).height())return 0;var t,e,o=document.createElement("div"),i=document.createElement("div");return o.style.visibility="hidden",o.style.width="100px",document.body.appendChild(o),t=o.offsetWidth,o.style.overflow="scroll",i.style.width="100%",o.appendChild(i),e=i.offsetWidth,o.parentNode.removeChild(o),t-e}function i(){if(!O){var t,e,i=n("html"),a=l("is-locked");i.hasClass(a)||(e=n(document.body),t=parseInt(e.css("padding-right"),10)+o(),e.css("padding-right",t+"px"),i.addClass(a))}}function a(){if(!O){var t,e,i=n("html"),a=l("is-locked");i.hasClass(a)&&(e=n(document.body),t=parseInt(e.css("padding-right"),10)-o(),e.css("padding-right",t+"px"),i.removeClass(a))}}function s(t,n,e,o){var i=l("is",n),a=[l("is",C.CLOSING),l("is",C.OPENING),l("is",C.CLOSED),l("is",C.OPENED)].join(" ");t.$bg.removeClass(a).addClass(i),t.$overlay.removeClass(a).addClass(i),t.$wrapper.removeClass(a).addClass(i),t.$modal.removeClass(a).addClass(i),t.state=n,!e&&t.$modal.trigger({type:n,reason:o},[{reason:o}])}function r(t,o,i){var a=0,s=function(t){t.target===this&&a++},r=function(t){t.target===this&&0===--a&&(n.each(["$bg","$overlay","$wrapper","$modal"],function(t,n){i[n].off(h+" "+$)}),o())};n.each(["$bg","$overlay","$wrapper","$modal"],function(t,n){i[n].on(h,s).on($,r)}),t(),0===e(i.$bg)&&0===e(i.$overlay)&&0===e(i.$wrapper)&&0===e(i.$modal)&&(n.each(["$bg","$overlay","$wrapper","$modal"],function(t,n){i[n].off(h+" "+$)}),o())}function c(t){t.state!==C.CLOSED&&(n.each(["$bg","$overlay","$wrapper","$modal"],function(n,e){t[e].off(h+" "+$)}),t.$bg.removeClass(t.settings.modifier),t.$overlay.removeClass(t.settings.modifier).hide(),t.$wrapper.hide(),a(),s(t,C.CLOSED,!0))}function d(t){var n,e,o,i,a={};for(t=t.replace(/\s*:\s*/g,":").replace(/\s*,\s*/g,","),n=t.split(","),i=0,e=n.length;e>i;i++)n[i]=n[i].split(":"),o=n[i][1],("string"==typeof o||o instanceof String)&&(o="true"===o||("false"===o?!1:o)),("string"==typeof o||o instanceof String)&&(o=isNaN(o)?o:+o),a[n[i][0]]=o;return a}function l(){for(var t=v,n=0;n<arguments.length;++n)t+="-"+arguments[n];return t}function u(t,e){var o=n(document.body),i=this;i.settings=n.extend({},g,e),i.index=n[f].lookup.push(i)-1,i.state=C.CLOSED,i.$overlay=n("."+l("overlay")),i.$overlay.length||(i.$overlay=n("<div>").addClass(l("overlay")+" "+l("is",C.CLOSED)).hide(),o.append(i.$overlay)),i.$bg=n("."+l("bg")).addClass(l("is",C.CLOSED)),i.$modal=t.addClass(v+" "+l("is-initialized")+" "+i.settings.modifier+" "+l("is",C.CLOSED)).attr("tabindex","-1"),i.$wrapper=n("<div>").addClass(l("wrapper")+" "+i.settings.modifier+" "+l("is",C.CLOSED)).hide().append(i.$modal),o.append(i.$wrapper),i.$wrapper.on("click."+v,"[data-"+f+'-action="close"]',function(t){t.preventDefault(),i.close()}),i.$wrapper.on("click."+v,"[data-"+f+'-action="cancel"]',function(t){t.preventDefault(),i.$modal.trigger(y.CANCELLATION),i.settings.closeOnCancel&&i.close(y.CANCELLATION)}),i.$wrapper.on("click."+v,"[data-"+f+'-action="confirm"]',function(t){t.preventDefault(),i.$modal.trigger(y.CONFIRMATION),i.settings.closeOnConfirm&&i.close(y.CONFIRMATION)}),i.$wrapper.on("click."+v,function(t){var e=n(t.target);e.hasClass(l("wrapper"))&&i.settings.closeOnOutsideClick&&i.close()})}var m,p,f="modal",v=t.modal_GLOBALS&&t.modal_GLOBALS.NAMESPACE||f,h=n.map(["animationstart","webkitAnimationStart","MSAnimationStart","oAnimationStart"],function(t){return t+"."+v}).join(" "),$=n.map(["animationend","webkitAnimationEnd","MSAnimationEnd","oAnimationEnd"],function(t){return t+"."+v}).join(" "),g=n.extend({hashTracking:!0,closeOnConfirm:!0,closeOnCancel:!0,closeOnEscape:!0,closeOnOutsideClick:!0,modifier:""},t.modal_GLOBALS&&t.modal_GLOBALS.DEFAULTS),C={CLOSING:"closing",CLOSED:"closed",OPENING:"opening",OPENED:"opened"},y={CONFIRMATION:"confirmation",CANCELLATION:"cancellation"},b=function(){var t=document.createElement("div").style;return void 0!==t.animationName||void 0!==t.WebkitAnimationName||void 0!==t.MozAnimationName||void 0!==t.msAnimationName||void 0!==t.OAnimationName}(),O=/iPad|iPhone|iPod/.test(navigator.platform);u.prototype.open=function(){var t,e=this;e.state!==C.OPENING&&e.state!==C.CLOSING&&(t=e.$modal.attr("data-"+f+"-id"),t&&e.settings.hashTracking&&(p=n(window).scrollTop(),location.hash=t),m&&m!==e&&c(m),m=e,i(),e.$bg.addClass(e.settings.modifier),e.$overlay.addClass(e.settings.modifier).show(),e.$wrapper.show().scrollTop(0),e.$modal.focus(),r(function(){s(e,C.OPENING)},function(){s(e,C.OPENED)},e))},u.prototype.close=function(t){var e=this;e.state!==C.OPENING&&e.state!==C.CLOSING&&(e.settings.hashTracking&&e.$modal.attr("data-"+f+"-id")===location.hash.substr(1)&&(location.hash="",n(window).scrollTop(p)),r(function(){s(e,C.CLOSING,!1,t)},function(){e.$bg.removeClass(e.settings.modifier),e.$overlay.removeClass(e.settings.modifier).hide(),e.$wrapper.hide(),a(),s(e,C.CLOSED,!1,t)},e))},u.prototype.getState=function(){return this.state},u.prototype.destroy=function(){var t,e=n[f].lookup;c(this),this.$wrapper.remove(),delete e[this.index],t=n.grep(e,function(t){return!!t}).length,0===t&&(this.$overlay.remove(),this.$bg.removeClass(l("is",C.CLOSING)+" "+l("is",C.OPENING)+" "+l("is",C.CLOSED)+" "+l("is",C.OPENED)))},n[f]={lookup:[]},n.fn[f]=function(t){var e,o;return this.each(function(i,a){o=n(a),null==o.data(f)?(e=new u(o,t),o.data(f,e.index),e.settings.hashTracking&&o.attr("data-"+f+"-id")===location.hash.substr(1)&&e.open()):e=n[f].lookup[o.data(f)]}),e},n(document).ready(function(){n(document).on("click","[data-"+f+"-target]",function(t){t.preventDefault();var e=t.currentTarget,o=e.getAttribute("data-"+f+"-target"),i=n("[data-"+f+'-id="'+o+'"]');n[f].lookup[i.data(f)].open()}),n(document).find("."+v).each(function(t,e){var o=n(e),i=o.data(f+"-options");i?("string"==typeof i||i instanceof String)&&(i=d(i)):i={},o[f](i)}),n(document).on("keydown."+v,function(t){m&&m.settings.closeOnEscape&&m.state===C.OPENED&&27===t.keyCode&&m.close()})})});
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){var e=Array.prototype.slice,n=Array.prototype.splice,i={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:!1,getWidthFrom:"",widthFromWrapper:!0,responsiveWidth:!1,zIndex:"auto"},o=t(window),s=t(document),a=[],r=o.height(),c=function(){for(var e=o.scrollTop(),n=s.height(),i=n-r,c=e>i?i-e:0,d=0,l=a.length;l>d;d++){var u=a[d],p=u.stickyWrapper.offset().top,m=p-u.topSpacing-c;if(u.stickyWrapper.css("height",u.stickyElement.outerHeight()),m>=e)null!==u.currentTop&&(u.stickyElement.css({width:"",position:"",top:"","z-index":""}),u.stickyElement.parent().removeClass(u.className),u.stickyElement.trigger("sticky-end",[u]),u.currentTop=null);else{var f=n-u.stickyElement.outerHeight()-u.topSpacing-u.bottomSpacing-e-c;if(0>f?f+=u.topSpacing:f=u.topSpacing,u.currentTop!==f){var h;u.getWidthFrom?h=t(u.getWidthFrom).width()||null:u.widthFromWrapper&&(h=u.stickyWrapper.width()),null==h&&(h=u.stickyElement.width()),u.stickyElement.css("width",h).css("position","fixed").css("top",f).css("z-index",u.zIndex),u.stickyElement.parent().addClass(u.className),null===u.currentTop?u.stickyElement.trigger("sticky-start",[u]):u.stickyElement.trigger("sticky-update",[u]),u.currentTop===u.topSpacing&&u.currentTop>f||null===u.currentTop&&f<u.topSpacing?u.stickyElement.trigger("sticky-bottom-reached",[u]):null!==u.currentTop&&f===u.topSpacing&&u.currentTop<f&&u.stickyElement.trigger("sticky-bottom-unreached",[u]),u.currentTop=f}var v=u.stickyWrapper.parent(),g=u.stickyElement.offset().top+u.stickyElement.outerHeight()>=v.offset().top+v.outerHeight()&&u.stickyElement.offset().top<=u.topSpacing;g?u.stickyElement.css("position","absolute").css("top","").css("bottom",0).css("z-index",""):u.stickyElement.css("position","fixed").css("top",f).css("bottom","").css("z-index",u.zIndex)}}},d=function(){r=o.height();for(var e=0,n=a.length;n>e;e++){var i=a[e],s=null;i.getWidthFrom?i.responsiveWidth&&(s=t(i.getWidthFrom).width()):i.widthFromWrapper&&(s=i.stickyWrapper.width()),null!=s&&i.stickyElement.css("width",s)}},l={init:function(e){var n=t.extend({},i,e);return this.each(function(){var e=t(this),o=e.attr("id"),s=o?o+"-"+i.wrapperClassName:i.wrapperClassName,r=t("<div></div>").attr("id",s).addClass(n.wrapperClassName);e.wrapAll(function(){return 0==t(this).parent("#"+s).length?r:void 0});var c=e.parent();n.center&&c.css({width:e.outerWidth(),marginLeft:"auto",marginRight:"auto"}),"right"===e.css("float")&&e.css({"float":"none"}).parent().css({"float":"right"}),n.stickyElement=e,n.stickyWrapper=c,n.currentTop=null,a.push(n),l.setWrapperHeight(this),l.setupChangeListeners(this)})},setWrapperHeight:function(e){var n=t(e),i=n.parent();i&&i.css("height",n.outerHeight())},setupChangeListeners:function(t){if(window.MutationObserver){var e=new window.MutationObserver(function(e){(e[0].addedNodes.length||e[0].removedNodes.length)&&l.setWrapperHeight(t)});e.observe(t,{subtree:!0,childList:!0})}else t.addEventListener("DOMNodeInserted",function(){l.setWrapperHeight(t)},!1),t.addEventListener("DOMNodeRemoved",function(){l.setWrapperHeight(t)},!1)},update:c,unstick:function(e){return this.each(function(){for(var e=this,i=t(e),o=-1,s=a.length;s-->0;)a[s].stickyElement.get(0)===e&&(n.call(a,s,1),o=s);-1!==o&&(i.unwrap(),i.css({width:"",position:"",top:"","float":"","z-index":""}))})}};window.addEventListener?(window.addEventListener("scroll",c,!1),window.addEventListener("resize",d,!1)):window.attachEvent&&(window.attachEvent("onscroll",c),window.attachEvent("onresize",d)),t.fn.sticky=function(n){return l[n]?l[n].apply(this,e.call(arguments,1)):"object"!=typeof n&&n?void t.error("Method "+n+" does not exist on jQuery.sticky"):l.init.apply(this,arguments)},t.fn.unstick=function(n){return l[n]?l[n].apply(this,e.call(arguments,1)):"object"!=typeof n&&n?void t.error("Method "+n+" does not exist on jQuery.sticky"):l.unstick.apply(this,arguments)},t(function(){setTimeout(c,0)})});

